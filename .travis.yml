language: cpp
compiler: gcc

branches:
   except:
   - /^dale\/.*/

matrix:
  include:
  - os: linux
    dist: xenial
  - os: windows
    env:
      - CMAKE_PATH="/c/Program Files/CMake/bin:$PATH"

before_install:
  - if [ "$TRAVIS_OS_NAME" = "linux" ]; then sudo apt-get install -y libglu1-mesa-dev; fi
  - if [ "$TRAVIS_OS_NAME" = "windows" ]; then choco install make zip ; fi

script:
- make dist
- mkdir cmake-build && cd cmake-build
- cmake ../plugin -DCMAKE_VERBOSE_MAKEFILE:BOOL=ON
- cmake --build .
